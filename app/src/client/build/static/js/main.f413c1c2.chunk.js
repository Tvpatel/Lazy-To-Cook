(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},26:function(e,t,a){e.exports=a(61)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(23),s=a.n(i),c=(a(31),a(2)),r=a(3),o=a(5),u=a(4),m=a(6),h=a(1),p=(a(32),function(e){return l.a.createElement("div",{className:"Logo-icon"},l.a.createElement("img",{alt:"logo",src:"/logo.svg",height:"26px",width:"26px"}),"\xa0lazy to cook")}),d=(a(33),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).logout=a.logout.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"logout",value:function(e){"logout"===e.target.name&&fetch("/auth/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){200===e.status?window.location="/app/":alert("Error logging out.")})}},{key:"render",value:function(){var e=this.props.shouldShowLogout?l.a.createElement("button",{className:"logout-btn",name:"logout",onClick:this.logout},"Logout"):"";return l.a.createElement("div",null,l.a.createElement("nav",{className:"Navbar-container"},l.a.createElement(p,null),e),this.props.children)}}]),t}(n.Component)),b=a(12),E=a(13),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).url="/auth/register",a.user_type="",a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.collectData=a.collectData.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"collectData",value:function(){return Object(E.a)({},this.state,{user_type:this.user_type})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.collectData();t&&fetch(this.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){console.log(e)})}},{key:"handleChange",value:function(e){var t=e.target.name;if("isSignup"!==t){var a=e.target.value;this.setState(function(e){return Object(b.a)({},t,a)})}else this.setState(function(e){return{isSignup:!e.isSignup}})}}]),t}(n.Component),f=(a(16),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).user_type="admin",a.state={name:"",contact:"",email:"",username:"",password:"",website:""},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h4",null,"Restaurant Sign up"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Phone Number"),l.a.createElement("input",{type:"text",name:"contact",value:this.state.address,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Email Address"),l.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Website"),l.a.createElement("input",{type:"text",name:"website",value:this.state.website,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("input",{className:"submit-btn",type:"submit",value:"Sign up"})))}}]),t}(v)),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).url="/auth/login",a.state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.collectData=a.collectData.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"collectData",value:function(){var e=this.props.user_type;return Object(E.a)({},this.state,{user_type:e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.collectData();t&&fetch(this.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){e.redirectTo?window.location=e.redirectTo:e.message&&alert(e.message)})}},{key:"handleChange",value:function(e){var t=e.target.name;if("isSignup"!==t){var a=e.target.value;this.setState(function(e){return Object(b.a)({},t,a)})}else this.setState(function(e){return{isSignup:!e.isSignup}})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"user"===this.props.user_type?"User":"Restaurant"," Sign in "),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("input",{className:"submit-btn",type:"submit",value:"Sign in"})))}}]),t}(l.a.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).user_type="user",a.state={first_name:"",middle_name:"",last_name:"",dob:"",email:"",password:"",line1:"",line2:"",city:"",state:"",zipcode:""},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"collectData",value:function(){return{first_name:this.state.first_name,middle_name:this.state.middle_name,last_name:this.state.last_name,dob:this.state.dob,email:this.state.email,password:this.state.password,user_type:this.user_type,address:{line1:this.state.line1,line2:this.state.line2,city:this.state.city,state:this.state.state,zipcode:this.state.zipcode}}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"User Sign up"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",name:"first_name",value:this.state.first_name,onChange:this.handleChange}),l.a.createElement("label",null,"Middle Name"),l.a.createElement("input",{type:"text",name:"middle_name",value:this.state.middle_name,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",name:"last_name",value:this.state.last_name,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Date of Birth"),l.a.createElement("input",{type:"text",name:"dob",value:this.state.dob,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Email Address"),l.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("h5",null,"Mailing Address"),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Line 1"),l.a.createElement("input",{type:"text",name:"line1",value:this.state.line1,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Line 2"),l.a.createElement("input",{type:"text",name:"line2",value:this.state.line2,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"City"),l.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"State"),l.a.createElement("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Zipcode"),l.a.createElement("input",{type:"text",name:"zipcode",value:this.state.zipcode,onChange:this.handleChange}))),l.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"})))}}]),t}(v),j=(a(34),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user_type:e.type,isSignup:"signin"===e.method},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){fetch("/auth/login",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.redirectTo&&(window.location=e.redirectTo)})}},{key:"handleChange",value:function(e){var t=e.target,a=t.attributes.name.value;if("isSignup"!==a){var n=t.getElementsByTagName("input")[0].value;this.setState(Object(b.a)({},a,n))}else this.setState(function(e){return{isSignup:!e.isSignup}})}},{key:"render",value:function(){var e="",t="admin"===this.state.user_type?f:y;return e=this.state.isSignup?l.a.createElement(t,null):l.a.createElement(g,{user_type:this.state.user_type}),l.a.createElement("div",{className:"authentication-form"},l.a.createElement("div",{className:"radio-selection usertype-selection"},l.a.createElement("span",{name:"user_type",className:"".concat("admin"===this.state.user_type?"selected":""," selection left-border-curved"),onClick:this.handleChange},l.a.createElement("input",{type:"hidden",name:"user_type",value:"admin",checked:"admin"===this.state.user_type})," Restaurant"),l.a.createElement("span",{name:"user_type",className:"".concat("user"===this.state.user_type?"selected":""," selection right-border-curved"),onClick:this.handleChange},l.a.createElement("input",{type:"hidden",name:"user_type",value:"user",checked:"user"===this.state.user_type})," User")),l.a.createElement("div",{className:"radio-selection auth-type-selection"},l.a.createElement("span",{name:"isSignup",className:"".concat(this.state.isSignup?"selected":""," selection left-border-curved"),onClick:this.handleChange},l.a.createElement("input",{type:"hidden",name:"isSignup",value:"true",checked:this.state.isSignup})," Sign Up"),l.a.createElement("span",{name:"isSignup",className:"".concat(this.state.isSignup?"":"selected"," selection right-border-curved"),onClick:this.handleChange},l.a.createElement("input",{type:"hidden",name:"isSignup",value:"false",checked:!this.state.isSignup})," Sign In")),l.a.createElement("div",{className:"auth-form"},e))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isLoggedIn:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/auth/login",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({isLoggedIn:t.status}),t.status||(window.location="/app")})}}]),t}(n.Component),C=(a(35),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={restaurant:{},outlets:[]},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(function(e){return e.restaurant[t]=a,e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;fetch("/api/restaurants/".concat(this.props.match.params.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state.restaurant)}).then(function(e){return e&&200===e.status?e.json():null}).then(function(e){t.setState({restaurant:e}),alert("Successfully updated!")})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e&&200===e.status?e.json():null}).then(function(t){t&&e.setState({restaurant:t})})}},{key:"render",value:function(){var e="";return this.state.restaurant&&Object.keys(this.state.restaurant).length&&(e=l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",name:"name",value:this.state.restaurant.name,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Phone Number"),l.a.createElement("input",{type:"text",name:"contact",value:this.state.restaurant.contact,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Email Address"),l.a.createElement("input",{type:"text",name:"email",value:this.state.restaurant.email,onChange:this.handleChange})),l.a.createElement("div",{className:"field-row"},l.a.createElement("label",null,"Website"),l.a.createElement("input",{type:"text",name:"email",value:this.state.restaurant.website,onChange:this.handleChange})),l.a.createElement("input",{className:"submit-btn",type:"submit",value:"Update"}))),l.a.createElement("div",{className:"restaurant-detail-container"},l.a.createElement("h1",null,this.state.restaurant.name,"'s Profile"),l.a.createElement("section",null,e))}}]),t}(l.a.Component)),w=(n.Component,a(8)),S=a(14),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={item:{}},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=this.props.match.params.outlet_id,n=this.props.match.params.item_id;t&&a&&fetch("/api/restaurants/".concat(t,"/outlets/").concat(a,"/items/").concat(n),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({item:t})})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(function(e){return e.outlet[t]=a,e})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state.outlet)}},{key:"render",value:function(){var e="";return this.state.item&&Object.keys(this.state.item).length&&(e=l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("label",null,"Name:",l.a.createElement("input",{type:"text",name:"name",value:this.state.item.name,onChange:this.handleChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Description:",l.a.createElement("input",{type:"text",name:"description",value:this.state.item.description,onChange:this.handleChange}))),l.a.createElement("div",null,l.a.createElement("label",null,"Price:",l.a.createElement("input",{type:"text",name:"price",value:this.state.item.price,onChange:this.handleChange}))),l.a.createElement("input",{type:"submit",value:"Update"}))),l.a.createElement("div",null,l.a.createElement("h1",null,"Edit ",this.state.item.name),l.a.createElement("section",null,e))}}]),t}(n.Component),k=(a(36),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={items:[]},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id,"/outlets/").concat(this.props.match.params.outlet_id,"/items"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){e.setState({items:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"item-list-tray"},l.a.createElement("h4",{className:"item-title"},"Items"),l.a.createElement(w.a,{basename:"/app"},l.a.createElement("ul",{className:"item-list"},this.state.items.map(function(t,a){return l.a.createElement("li",{className:"item-list-item",key:t.id},l.a.createElement(w.b,{to:"".concat(e.props.match.url,"/").concat(t.id)},l.a.createElement("div",null,l.a.createElement("h3",null,t.name),l.a.createElement("p",{className:"item-list-item-description"},t.description))))})),l.a.createElement(S.a,{exact:!0,path:"".concat(this.props.match.path,"/:item_id"),component:N})))}}]),t}(O)),_=(a(45),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={outlets:[]},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id,"/outlets"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){e.setState({outlets:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"outlet-list-tray"},l.a.createElement(w.a,{basename:"/app"},l.a.createElement("h4",{className:"outlet-title"},"Outlets"),l.a.createElement("ul",{className:"outlet-list"},this.state.outlets.map(function(t,a){return l.a.createElement("li",{className:"outlet-list-item",key:t.id},l.a.createElement(w.b,{to:"".concat(e.props.match.url,"/").concat(t.id,"/items")},l.a.createElement("h3",null,t.name),l.a.createElement("span",null,"".concat(t.address.lineOne," ").concat(t.address.lineTwo?t.address.lineTwo:"",", ").concat(t.address.city))))})),l.a.createElement("div",null,l.a.createElement(S.a,{path:"".concat(this.props.match.path,"/:outlet_id/items"),component:k}))))}}]),t}(O)),x=(a(46),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).restaurantId=a.props.match.params.id,a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.isLoggedIn?l.a.createElement("div",null,l.a.createElement(d,{shouldShowLogout:this.state.isLoggedIn}),l.a.createElement("div",{className:"ContentArea-container"},l.a.createElement(w.a,{basename:"/app"},l.a.createElement("nav",{className:"nav-tray"},l.a.createElement("ul",{className:"nav-tray-items"},l.a.createElement("li",{className:"nav-tray-item"},l.a.createElement(w.b,{to:"".concat(this.props.match.url)},l.a.createElement("i",{className:"fas fa-user-circle nav-tray-item-icon",title:"Profile"}),l.a.createElement("div",null,"Profile"))),l.a.createElement("li",{className:"nav-tray-item"},l.a.createElement(w.b,{to:"".concat(this.props.match.url,"/outlets")},l.a.createElement("i",{className:"fas fa-utensils nav-tray-item-icon"}),l.a.createElement("div",null,"Outlets"))))),l.a.createElement("div",null,l.a.createElement(S.a,{exact:!0,path:"".concat(this.props.match.path),component:C}),l.a.createElement(S.a,{path:"".concat(this.props.match.path,"/outlets"),component:_}))))):""}}]),t}(O)),T=(a(47),n.Component,function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){if(this.state.isLoggedIn){var e=l.a.createElement("div",null,"You're on user page of user id: ",this.props.match.params.id,".");return l.a.createElement("div",null,l.a.createElement(d,{shouldShowLogout:this.state.isLoggedIn}),e)}return""}}]),t}(O)),D=(a(48),a(49)),A=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(w.a,{basename:"/app"},l.a.createElement("div",null,l.a.createElement(S.a,{exact:!0,path:"/",component:L}),l.a.createElement(S.a,{path:"/admin/:id",component:x}),l.a.createElement(S.a,{path:"/user/:id",component:T}))),l.a.createElement("div",{className:"footer"},l.a.createElement("div",null,"App logo made by ",l.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.flaticon.com/authors/baianat",title:"Baianat"},"Baianat")," from ",l.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")," is licensed by ",l.a.createElement("a",{rel:"noopener noreferrer",href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank"},"CC 3.0 BY"))))}}]),t}(n.Component),L=function(e){var t=e.location,a=D.parse(t.search);return console.log(a),l.a.createElement("div",null,l.a.createElement(d,{isLoggedIn:!1}),l.a.createElement(j,{type:a.type?a.type:"admin",method:a.method?a.method:"register"}))},P=A;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.f413c1c2.chunk.js.map